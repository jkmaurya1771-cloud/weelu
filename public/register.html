<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Register — Weelu</title>
<link href="https://fonts.googleapis.com/css2?family=Syne:wght@400;700;800&family=DM+Sans:wght@400;500;600&display=swap" rel="stylesheet"/>
<style>
  :root { --orange:#FF5C00; --dark:#0A0A0A; --card:#141414; --text:#F5F5F5; --muted:#888; --border:#222; --red:#FF3B3B; --green:#00D68F; }
  * { margin:0; padding:0; box-sizing:border-box; }
  body { background:var(--dark); color:var(--text); font-family:'DM Sans',sans-serif; min-height:100vh; display:flex; flex-direction:column; }
  nav { display:flex; align-items:center; justify-content:space-between; padding:20px 40px; border-bottom:1px solid var(--border); }
  .logo { font-family:'Syne',sans-serif; font-size:1.6rem; font-weight:800; color:var(--text); text-decoration:none; }
  .logo span { color:var(--orange); }
  .wrap { flex:1; display:flex; align-items:center; justify-content:center; padding:40px 20px; }
  .box { background:var(--card); border:1.5px solid var(--border); border-radius:24px; padding:48px 40px; width:100%; max-width:420px; }
  .box h1 { font-family:'Syne',sans-serif; font-size:1.8rem; font-weight:800; margin-bottom:6px; }
  .box h1 span { color:var(--orange); }
  .box p { color:var(--muted); margin-bottom:32px; font-size:0.9rem; }
  .field { margin-bottom:18px; }
  .field label { display:block; font-size:0.75rem; font-weight:700; text-transform:uppercase; letter-spacing:0.8px; color:var(--muted); margin-bottom:8px; }
  .field input { width:100%; background:#1a1a1a; border:1.5px solid var(--border); border-radius:10px; padding:13px 16px; color:var(--text); font-family:'DM Sans',sans-serif; font-size:0.95rem; outline:none; transition:border-color 0.2s; }
  .field input:focus { border-color:var(--orange); }
  .submit-btn { width:100%; background:var(--orange); color:#fff; border:none; padding:14px; border-radius:10px; font-family:'Syne',sans-serif; font-weight:700; font-size:1rem; cursor:pointer; margin-top:8px; transition:background 0.2s; }
  .submit-btn:hover { background:#e04e00; }
  .error { color:var(--red); font-size:0.85rem; margin-top:12px; text-align:center; display:none; background:rgba(255,59,59,0.1); padding:10px; border-radius:8px; }
  .bottom-link { text-align:center; margin-top:24px; color:var(--muted); font-size:0.9rem; }
  .bottom-link a { color:var(--orange); text-decoration:none; font-weight:600; }
  .divider { display:flex; align-items:center; gap:12px; margin:24px 0; }
  .divider span { color:var(--muted); font-size:0.8rem; }
  .divider::before, .divider::after { content:''; flex:1; height:1px; background:var(--border); }
  .perks { display:flex; flex-direction:column; gap:8px; margin-bottom:28px; }
  .perk { display:flex; align-items:center; gap:10px; font-size:0.85rem; color:var(--muted); }
  .perk span { color:var(--green); font-size:1rem; }
</style>
</head>
<body>
<nav>
  <a href="/" class="logo">W<span>eelu</span></a>
  <a href="/" style="color:var(--muted);text-decoration:none;font-size:0.9rem">← Back to Store</a>
</nav>
<div class="wrap">
  <div class="box">
    <h1>Join <span>Weelu!</span></h1>
    <p>Create your free account today</p>
    <div class="perks">
      <div class="perk"><span>✓</span> Get exclusive deals and offers</div>
      <div class="perk"><span>✓</span> Track your favourite products</div>
      <div class="perk"><span>✓</span> 100% free to join</div>
    </div>
    <div class="field">
      <label>Full Name</label>
      <input type="text" id="name" placeholder="Your full name"/>
    </div>
    <div class="field">
      <label>Email Address</label>
      <input type="email" id="email" placeholder="you@example.com"/>
    </div>
    <div class="field">
      <label>Password</label>
      <input type="password" id="password" placeholder="Min 6 characters" onkeydown="if(event.key==='Enter')doRegister()"/>
    </div>
    <button class="submit-btn" onclick="doRegister()">Create My Account →</button>
    <div class="error" id="errorMsg"></div>
    <div class="divider"><span>or</span></div>
    <div class="bottom-link">Already have an account? <a href="/login">Login here</a></div>
  </div>
</div>
<script>
async function doRegister() {
  const name = document.getElementById('name').value.trim();
  const email = document.getElementById('email').value.trim();
  const password = document.getElementById('password').value;
  const err = document.getElementById('errorMsg');
  err.style.display = 'none';
  if (!name || !email || !password) { err.textContent = 'Please fill in all fields'; err.style.display = 'block'; return; }
  const res = await fetch('/api/user/register', { method:'POST', headers:{'Content-Type':'application/json'}, body: JSON.stringify({name, email, password}) });
  const data = await res.json();
  if (res.ok) {
    window.location.href = '/';
  } else {
    err.textContent = data.error || 'Registration failed';
    err.style.display = 'block';
  }
}
</script>
</body>
</html>
